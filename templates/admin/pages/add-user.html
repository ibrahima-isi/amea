<div class="row mb-4">
  <div class="col">
    <h1 class="h3">Ajouter un utilisateur</h1>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="dashboard.php">Tableau de bord</a></li>
        <li class="breadcrumb-item"><a href="users.php">Gestion des utilisateurs</a></li>
        <li class="breadcrumb-item active" aria-current="page">Ajouter un utilisateur</li>
      </ol>
    </nav>
  </div>
</div>

{{feedback_block}}

<div class="row">
  <div class="col-md-8 mx-auto">
    <div class="card shadow">
      <div class="card-header">
        <h5 class="m-0 font-weight-bold">Informations de l'utilisateur</h5>
      </div>
      <div class="card-body">
        <form method="POST" action="{{form_action}}" novalidate>
          <input type="hidden" name="csrf_token" value="{{csrf_token}}">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="username" class="form-label">Nom d'utilisateur</label>
              <input type="text" class="form-control {{is_invalid_username}}" id="username" name="username" value="{{username}}" required>
              <div class="text-danger">{{error_username}}</div>
            </div>
            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control {{is_invalid_email}}" id="email" name="email" value="{{email}}" required placeholder="nom.prenom@exemple.com">
                <div class="text-danger">{{error_email}}</div>
            </div>
            <div class="col-md-6">
              <label for="nom" class="form-label">Nom</label>
              <input type="text" class="form-control {{is_invalid_nom}}" id="nom" name="nom" value="{{nom}}" required>
                <div class="text-danger">{{error_nom}}</div>
            </div>
            <div class="col-md-6">
              <label for="prenom" class="form-label">Prénom</label>
              <input type="text" class="form-control {{is_invalid_prenom}}" id="prenom" name="prenom" value="{{prenom}}" required>
                <div class="text-danger">{{error_prenom}}</div>
            </div>
            <div class="col-md-6">
              <label for="password" class="form-label">Mot de passe</label>
              <input type="password" class="form-control {{is_invalid_password}}" id="password" name="password" required>
                <div class="text-danger">{{error_password}}</div>
            </div>
            <div class="col-md-6">
              <label for="confirm_password" class="form-label">Confirmer le mot de passe</label>
              <input type="password" class="form-control {{is_invalid_confirm_password}}" id="confirm_password" name="confirm_password" required>
                <div class="text-danger">{{error_confirm_password}}</div>
            </div>
            <div class="col-md-6">
              <label for="role" class="form-label">Rôle</label>
              <select class="form-select" id="role" name="role" required>
                <option value="user" {{role_sel_user}}>Utilisateur</option>
                <option value="admin" {{role_sel_admin}}>Administrateur</option>
              </select>
            </div>
            <div class="col-md-6">
              <label for="est_actif" class="form-label">Statut</label>
              <select class="form-select" id="est_actif" name="est_actif" required>
                <option value="1" {{est_actif_sel_1}}>Actif</option>
                <option value="0" {{est_actif_sel_0}}>Inactif</option>
              </select>
            </div>
          </div>
          <div class="mt-3 text-end">
            <a href="users.php" class="btn btn-secondary">Annuler</a>
            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Enregistrer</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>